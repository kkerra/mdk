# Что такое API, зачем он нужен и как работает

**API** (Application Programming Interface) — это набор правил и инструментов, которые позволяют разным программам взаимодействовать друг с другом. API определяет, как одна программа может запрашивать данные или услуги у другой программы.

---

## Зачем нужен API?

1. **Обмен данными**: API позволяет приложениям обмениваться данными. Например, когда вы используете мобильное приложение для просмотра погоды, оно обращается к API сервиса погоды, чтобы получить актуальные данные.

2. **Интеграция систем**: API позволяет разным системам работать вместе. Например, интернет-магазин может использовать API платежной системы для обработки платежей.

3. **Упрощение разработки**: API предоставляет готовые функции, которые разработчики могут использовать в своих приложениях, не создавая всё с нуля. Например, API Google Maps позволяет добавить карты в приложение без необходимости разрабатывать собственный картографический сервис.

4. **Доступ к сложным функциям**: API позволяет использовать сложные функции, такие как машинное обучение, анализ данных или работа с большими объемами информации, без необходимости разбираться в их внутренней реализации.

---

## Как работает API?

API работает по принципу "запрос-ответ". Одно приложение (клиент) отправляет запрос на сервер, а сервер обрабатывает этот запрос и возвращает ответ. Запросы и ответы обычно передаются в формате JSON или XML.

### Пример:
1. **Запрос**: Мобильное приложение отправляет запрос к API погодного сервиса:  
   `https://api.weather.com/forecast?city=Москва`
2. **Ответ**: Сервер возвращает данные о погоде в формате JSON:  
   ```json
   {
       "city": "Москва",
       "temperature": "20°C",
       "condition": "солнечно"
   }
   ```

# Статус-коды

Когда сервер обрабатывает запрос, он возвращает статус-код, который указывает на результат выполнения запроса. Статус-коды делятся на несколько групп:

### 1xx: Информационные
 * 100 Continue: Сервер получил запрос и продолжает его обработку.

### 2xx: Успешные
 * 200 OK: Запрос успешно выполнен.

 * 201 Created: Запрос успешно выполнен, и новый ресурс создан.

 * 204 No Content: Запрос успешно выполнен, но ответ не содержит данных.

### 3xx: Перенаправления
 * 301 Moved Permanently: Запрошенный ресурс перемещен на новый URL.

 * 304 Not Modified: Ресурс не изменился с момента последнего запроса.

### 4xx: Ошибки клиента
 * 400 Bad Request: Запрос содержит ошибку (например, неверные параметры).

 * 401 Unauthorized: Требуется авторизация для доступа к ресурсу.

 * 403 Forbidden: Доступ к ресурсу запрещен.

 * 404 Not Found: Запрошенный ресурс не найден.

### 5xx: Ошибки сервера
 * 500 Internal Server Error: Ошибка на стороне сервера.

 * 503 Service Unavailable: Сервер временно недоступен.

# Функции API

API предоставляет различные функции, которые можно использовать в зависимости от задачи. Вот несколько примеров:

1. Получение данных:

   * Пример: Получить список товаров из интернет-магазина.

   * Запрос: GET /api/products

2. Добавление данных:

   * Пример: Добавить новый товар в базу данных.

   * Запрос: POST /api/products

   * Тело запроса (JSON):

```json
{
    "name": "Ноутбук",
    "price": 50000
}
```
3. Обновление данных:

   * Пример: Обновить информацию о товаре.

   * Запрос: PUT /api/products/123
  
   * Тело запроса (JSON):

```json
{
    "price": 45000
}
```
4. Удаление данных:

   * Пример: Удалить товар из базы данных.

   * Запрос: DELETE /api/products/123

## Пример использования API
Представим, что у нас есть API для управления списком задач:

1. Получить список задач:

```http
GET /api/tasks
```
Ответ:

```json
[
    {"id": 1, "title": "Купить молоко", "completed": false},
    {"id": 2, "title": "Записаться к врачу", "completed": true}
]
```
2. Добавить новую задачу:

```http
POST /api/tasks
```
Тело запроса:

```json
{
    "title": "Позвонить маме",
    "completed": false
}
```
3. Обновить задачу:

```http
PUT /api/tasks/1
```
Тело запроса:

```json
{
    "completed": true
}
```
4. Удалить задачу:

```http
DELETE /api/tasks/2
```
